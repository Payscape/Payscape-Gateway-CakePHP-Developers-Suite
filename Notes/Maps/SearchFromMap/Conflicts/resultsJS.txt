
ajax pagination uses the Controler / Method
so that our pagination was sending to Searches / ajax_results!

had to remove this and put things back together. 

 
	
	google.maps.event.addListener(sm_map, 'bounds_changed', function() {
		setTimeout(function(){			
			if ($('#redoSearchBox').is(':checked')) {
				sm_ajax_results( );	
			}		
		}, 500);
	});
	
	var results_ajax_jqXHR = '';   
	results_ajax_jqXHR = false;
	
	function sm_ajax_results( ){

		$('#ajxResults, #ajxResultsP').animate({opacity:0.5});
		map_update(sm_map.getBounds( ));
		
		var sm_map_ne_lat = sm_map.getBounds().getNorthEast().lat();
		var sm_map_ne_lng = sm_map.getBounds().getNorthEast().lng();
		var sm_map_sw_lat = sm_map.getBounds().getSouthWest().lat();
		var sm_map_sw_lng = sm_map.getBounds().getSouthWest().lng();		
			
		results_ajax_jqXHR = $.post(ROOT_URL+"searches/ajax_results", {
				"data[Search][end_date]" : enddate,
				"data[Search][sleepingcapacity]" : sleepingcapacity,
				"data[Search][rate_by]" : searchrateby,
				"data[Search][daily_rate.min]" : dailyratemin,
				"data[Search][daily_rate.max]" : dailyratemax,
				"data[Search][bedrooms.min]" : bedmi,
				"data[Search][bedrooms.max]" : bedma, 
				"data[Search][bathrooms.min]" : bathmi,
				"data[Search][bathrooms.max]" : bathma,
				"data[Search][square_foot.min]" : sqfootmin,
				"data[Search][square_foot.max]" : sqfootmax,
				"data[Search][amenities]" : amenities,
				"data[Search][sm_map_ne_lat]" : sm_map_ne_lat,
				"data[Search][sm_map_ne_lng]" : sm_map_ne_lng,				
				"data[Search][sm_map_sw_lat]" : sm_map_sw_lat,
				"data[Search][sm_map_sw_lng]" : sm_map_sw_lng				
		},	
		
			function (res_ajax) {
				return_data = $.parseJSON(res_ajax);
				update_content(false);
				results_ajax_jqXHR = false;
			} 
		           
		  );
	}// sm_map ajax results