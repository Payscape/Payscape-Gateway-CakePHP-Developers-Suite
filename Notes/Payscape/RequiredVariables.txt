
tables
	transactions
	customers
	products



TRANSACTION TESTING ACCOUNT

	key id 449510
	key \!b2#1wu%4_tUdpAxO|GDWW?20:V.w
	
	
The hash should be the values of the following variables delimited by pipes and *hashed* 
with an md5 algorithm.	

The Key can be obtained ;under the Security Keys section within the Gateway Options and is associated with the passed key_id.

The customer_vault_id is Optional and only included when a customer_vault_id is included in the request.

	HASH WITH CUSTOMER VAULT ID

	$order_id|$amount|$customer_vault_id|$time|$key
	
	HASH WITHOUT CUSTOMER VAULT ID
	
	$order_id|$amount|$time|$key
	
	EXAMPLE
	
	<?php
	
		$time = date("YmdHis");
		<input type="text" name="key_id" value="449510">
		<input type="text" name="hash" value="<?php echo md5("Test1|$1.00|$time|\!b2#1wu%4_tUdpAxO|GDWW?20:V.wz"); ?>">
	?>
	
	
	// do not use the following URL, it's from the NMI manual, 
	// instead use the payscape URL
	
TRANSACTION POST URL
	https://secure.nmi.com/api/transact.php
	
	The URL is the same for both Live and Test Mode environments
	
		


TEST TRANSACTION INFORMATION

Visa	4111111111111111 (4 + 15 x 1)
MasterCard	5431111111111111 (543 + 13 x 1)

Credit Card Expiration		10/10 Format: MMYY

Amount 	> 1.00


TRIGGERING ERROR MESSAGES IN TEST MODE 
	
	To cause a declined message, pass an amount lesss than 1.00
	
	To trigger a fatal errror message, pass an invaliid card number
	
	To simulate an AVS Match, pass 888 in the adress1 field, 77777 for zip
	
	To simpulate a CVV Match, pass 999 in the cvv field



Required Variables for the Direct Post API

	username
	password
	type 		(transaction type)	sale / auth / creadit
	key_id		security key id from Merchant Control Panel
	hash 		MD5 variable hash
	
	
	
	our class needs to provide the required fields for an order once it has been posted. 
	
	SALE / AUTHORIZATION / CREDIT
	
	*Required
	username
	password
	type			sale, auth, credit
	key_id			security key id from Merchant Control Panel
	hash 			MD5 variable hash
	time			UTC timestamp 
	redirect		the redirect url the user is sent to after submission
	
CREDIT CARD TRANSACTIONS ('payment' variable sends this information)
	
	ccnumber		credit card number	
	ccexp			credit card expiration e.g. 0711 = 7/2011
CHECK TRANSACTIONS
	checkname		name on the customer's Automated Clearing House Accunt
	chackaba		customers bank routing number
	checkaccount	customers bank account number
	account_holder_type	customers type of ACH account (business / personal)
	account_type	customer ACH account entity (checking / savings)
	
	sec_code *Optional	creditcard / check 	Set Payment Type to ACH or credit Card
	processor_id *Optional If using Multiple MIDs, route to this processor
	amount			Total amount to be charged. For validate, the amount must be omitted or set to 0.00.
	
	*Recommended
	cvv				card security code
	ipaddress
	
	firstname
	lastname
	company
	address1
	city 
	state
	zip
	country
	phone
	email
	
	###
	
	CAPTURE
	time
	
	transactionid
	
	amount
	
	###
	
	VOID
	
	type
	key_id
	hash
	time
	redicrect
	transactionid
	
	###
	
	
	REFUND
	type
	key_id
	hash
	time
	redirect
	transactionid
	
	###
	
	UPDATE
	
	type
	key_iid
	hash
	time
	redirect
	transactionid
	
	###